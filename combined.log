{"level":"info","message":"Received request on root endpoint","service":"acquisitions-api"}
{"level":"info","message":"Received request on root endpoint","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:14:42:58 +0000] \"GET / HTTP/1.1\" 304 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:14:42:58 +0000] \"GET /favicon.ico HTTP/1.1\" 404 150 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"Received request on root endpoint","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:08:24 +0000] \"GET / HTTP/1.1\" 304 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"API root endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:08:36 +0000] \"GET /api HTTP/1.1\" 200 59 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:08:45 +0000] \"GET /health HTTP/1.1\" 200 74 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:09:07 +0000] \"GET /api/auth HTTP/1.1\" 404 147 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0\"","service":"acquisitions-api"}
{"level":"info","message":"Received request on root endpoint","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:15:04 +0000] \"GET / HTTP/1.1\" 200 27 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"API root endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:15:50 +0000] \"GET /api HTTP/1.1\" 200 59 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:16:01 +0000] \"GET /health HTTP/1.1\" 200 75 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [08/Dec/2025:15:16:22 +0000] \"POST /api/auth/sign-in HTTP/1.1\" 200 31 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:14:12 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 400 91 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:15:11 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 400 143 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"User signed up: fedi@gmail.com with role: user","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:15:38 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 201 110 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error creating user: Cannot convert undefined or null to object","service":"acquisitions-api","stack":"TypeError: Cannot convert undefined or null to object\n    at Function.entries (<anonymous>)\n    at orderSelectedFields (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:55:17)\n    at file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:65:22\n    at Array.reduce (<anonymous>)\n    at orderSelectedFields (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:55:33)\n    at QueryPromise.returning (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/pg-core/query-builders/insert.js:75:29)\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:29:8)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:19:18)"}
{"level":"error","message":"Error in signup controller: User creation failed","service":"acquisitions-api","stack":"Error: User creation failed\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:40:11)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:19:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:37:23 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 500 410 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error creating user: Cannot convert undefined or null to object","service":"acquisitions-api","stack":"TypeError: Cannot convert undefined or null to object\n    at Function.entries (<anonymous>)\n    at orderSelectedFields (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:55:17)\n    at file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:65:22\n    at Array.reduce (<anonymous>)\n    at orderSelectedFields (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/utils.js:55:33)\n    at QueryPromise.returning (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/node_modules/drizzle-orm/pg-core/query-builders/insert.js:75:29)\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:29:8)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:19:18)"}
{"level":"error","message":"Error in signup controller: User creation failed","service":"acquisitions-api","stack":"Error: User creation failed\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:40:11)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:19:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:38:00 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 500 410 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Created new user: fedi@example.com with role: user","service":"acquisitions-api"}
{"level":"info","message":"User signed up: fedi@example.com with role: user","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:08:38:40 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 201 112 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error creating user: User with this email already exists","service":"acquisitions-api","stack":"Error: User with this email already exists\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"error","message":"Error in signup controller: User creation failed","service":"acquisitions-api","stack":"Error: User creation failed\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:58:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:21:51 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 500 506 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error creating user: User with this email already exists","service":"acquisitions-api","stack":"Error: User with this email already exists\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"error","message":"Error in signup controller: User creation failed","service":"acquisitions-api","stack":"Error: User creation failed\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:58:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:22:30 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 500 506 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error creating user: User with this email already exists","service":"acquisitions-api","stack":"Error: User with this email already exists\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"error","message":"Error in signup controller: User with this email already exists","service":"acquisitions-api","stack":"Error: User with this email already exists\n    at createUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:21:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:23:05 +0000] \"POST /api/auth/sign-up HTTP/1.1\" 409 32 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Error authenticating user: Invalid email or password","service":"acquisitions-api","stack":"Error: Invalid email or password\n    at authenticateUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:74:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signin (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:65:18)"}
{"level":"error","message":"Error in signin controller: Invalid email or password","service":"acquisitions-api","stack":"Error: Invalid email or password\n    at authenticateUser (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/services/auth.service.js:74:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signin (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/controllers/auth.controller.js:65:18)"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:23:31 +0000] \"POST /api/auth/sign-in HTTP/1.1\" 401 37 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Authenticated user: fedi@example.com","service":"acquisitions-api"}
{"level":"info","message":"User signed in: fedi@example.com with role: user","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:23:53 +0000] \"POST /api/auth/sign-in HTTP/1.1\" 200 112 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"User signed out (no valid token found)","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:09:24:30 +0000] \"POST /api/auth/sign-out HTTP/1.1\" 200 42 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"error","message":"Arcjet middleware error: aj.withRules is not a function","service":"acquisitions-api","stack":"TypeError: aj.withRules is not a function\n    at securityMiddleware (file:///C:/Users/fedim/Documents/GitHub/new/aquisitions/src/middleware/security.middleware.js:24:23)\n    at Layer.handleRequest (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:291:5)\n    at logger (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\morgan\\index.js:144:5)\n    at Layer.handleRequest (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\fedim\\Documents\\GitHub\\new\\aquisitions\\node_modules\\router\\index.js:297:9"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:03:11 +0000] \"GET /health HTTP/1.1\" 500 78 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:23 +0000] \"GET /health HTTP/1.1\" 200 73 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:48 +0000] \"GET /health HTTP/1.1\" 200 74 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:48 +0000] \"GET /health HTTP/1.1\" 200 73 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:49 +0000] \"GET /health HTTP/1.1\" 200 74 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:49 +0000] \"GET /health HTTP/1.1\" 200 74 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"level":"info","message":"Health check endpoint called","service":"acquisitions-api"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:49 +0000] \"GET /health HTTP/1.1\" 200 74 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:49 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:49 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:50 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:50 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:50 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:50 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:50 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:51 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:51 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:51 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:51 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
{"ip":"::1","level":"warn","message":"Rate Limit Exceeded:","path":"/health","service":"acquisitions-api","userAgent":"HTTPie"}
{"level":"info","message":"::1 - - [09/Dec/2025:10:04:51 +0000] \"GET /health HTTP/1.1\" 429 61 \"-\" \"HTTPie\"","service":"acquisitions-api"}
